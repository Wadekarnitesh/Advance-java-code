package com.jspunimapcascade.Driver;

import java.util.Arrays;
import java.util.List;

import javax.persistence.EntityManager;
import javax.persistence.EntityManagerFactory;
import javax.persistence.EntityTransaction;
import javax.persistence.Persistence;

import com.jspunimapcascade.Entity.Doctor;
import com.jspunimapcascade.Entity.Hospital;
import com.jspunimapcascade.Entity.MD;
import com.jspunimapcascade.Entity.Patient;

public class HospitalInfoDriver {

	public static void main(String[] args) {
		
		
		EntityManagerFactory emf = Persistence.createEntityManagerFactory("pg");
		
		EntityManager em = emf.createEntityManager();
		
		EntityTransaction et = em.getTransaction();
		
		MD md = new MD(10, "Mr. Viraj Joshi", 300000);
		
		Patient patient1 = new Patient(1, "kiran", "Headache");
		Patient patient2= new Patient(2, "Jangam", "Cancer");
		Patient patient3 = new Patient(3, "lalit", "Fewer");
		Patient patient4= new Patient(4, "Gautam", "Brain Tumer");
		
		
		Doctor doctor1 = new Doctor(1,"Dr. sadashiv Mistra", "Genearal", List.of(patient1,patient3));
		Doctor doctor2 = new Doctor(1,"Dr. Mohan Tripathi", "Cancer Special", List.of(patient2));
		Doctor doctor3 = new Doctor(1,"Dr. Jaydeep Kale", "neurologist", List.of(patient4));
		
		List<Doctor> d=Arrays.asList(doctor1,doctor2,doctor3);
		
		Hospital hospital = new Hospital(2, "J.K Hospital", "Pune", d, md);
	
		et.begin();
		em.persist(hospital);
		et.commit();
		
	}
	
}
