package com.jsp.uniMapOneToMany3.Driver;

import java.util.Arrays;
import java.util.List;

import javax.persistence.EntityManager;
import javax.persistence.EntityManagerFactory;
import javax.persistence.EntityTransaction;
import javax.persistence.Persistence;

import com.jsp.uniMapOneToMany3.Entity.Customer;
import com.jsp.uniMapOneToMany3.Entity.Orders;

public class CustomerOrderDriver {

	public static void main(String[] args) {
		
	EntityManagerFactory emf=	Persistence.createEntityManagerFactory("pg");
		
	EntityManager em = emf.createEntityManager();
	
	EntityTransaction et = em.getTransaction();
	
	Orders o1 = new Orders(11, "10/10/2025", 450.0);
	Orders o2 = new Orders(12, "20/11/2025", 560.0);
	Orders o3 = new Orders(13, "18/12/2025", 1450.0);
	Order o4 = new Order(14, "09/01/2026", 900.0);
	
	List<Order> list=Arrays.asList(o1,o2,o3,o4);
	Customer c1 = new Customer(1, "Rahul", "rahul@gmail.com", list);
	
	et.begin();
	
	em.persist(o1);
	em.persist(o2);
	em.persist(o3);
	em.persist(o4);
	em.persist(c1);
	
	et.commit();
	
	
	}
}
