package com.jsp.bimaponetomany.driver;

import java.util.Arrays;
import java.util.List;

import javax.persistence.EntityManager;
import javax.persistence.EntityTransaction;
import javax.persistence.Persistence;

import com.jsp.bimaponetomany.entity.Manager;
import com.jsp.bimaponetomany.entity.TeamLeader;

public class ManagerTeamLeaderDriver {

	public static void main(String[] args) {
		
		EntityManager em = Persistence.createEntityManagerFactory("pg").createEntityManager();
		
		EntityTransaction et = em.getTransaction();
		
		TeamLeader t1 = new TeamLeader();
		t1.setId(10);
		t1.setName("Arjun");
		t1.setSkill("Java");
		t1.setSalary(50000.0);
		
		TeamLeader t2 = new TeamLeader();
		t2.setId(11);
		t2.setName("Aditya");
		t2.setSkill("Python");
		t2.setSalary(60000.0);
		
		TeamLeader t3 = new TeamLeader();
		t3.setId(12);
		t3.setName("Ajay");
		t3.setSkill("Javascript");
		t3.setSalary(70000.0);
		
		
		List<TeamLeader> teamLeader=Arrays.asList(t1,t2,t3);
		
		Manager m1 = new Manager();
		
		m1.setId(101);
	
		m1.setName("Ram");
		m1.setSalary(80000);
		
		
		t1.setManager(m1);
		t2.setManager(m1);
		t3.setManager(m1);
		m1.setList(teamLeader);
		
		et.begin();
		em.persist(m1);
		em.persist(m1);
		em.persist(t1);
		em.persist(t2);
		em.persist(t3);
		et.commit();
		
		m1.getList();
		
		
	}
}
